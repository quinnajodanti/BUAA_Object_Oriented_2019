## 简单幂函数和三角函数求导

程序用于实现含有简单幂函数和三角函数的求导功能，现对程序相关核心功能进行说明。

### 对象结构

#### 多项式对象

多项式对象在程序中以多项式-Poly，项-Item，因子-Factor三层对象存在。

Poly类的属性主要以Item组成，使用ArrayList容器进行维护。

Item类的属性主要以Factor和系数组成，使用HashMap维护因子的指数。

Factor类有Sin、Power和Cos三个继承子类，在本次作业中功能不大，用作后续复合函数接口使用。

#### 方法对象

方法对象在method包中，含有求导-Derivate，项比较器，因子比较器三个方法类。

#### 常量接口

正则常量接口-RegexConst用于存储各种正则表达式，便于统一维护管理。



### 格式检查

表达式格式检查有以下几个部分：

1. 超范围字符检测。
2. 非法空白符情况的检测，当检测通过后将删除所有空白符。
3. 序列式检查Item是否合乎要求。

### 

### 化简

本程序化简功能分为：系数合并与三角函数化简两部分。

#### 系数合并

在Poly和Item类中都定义了相关的Merge方法，所有的对象容器修改和增加操作均由Merge方法完成。同时，Merge方法还会检测Item系数为0和Factor指数为0的情况，及时剔除冗余项。

#### 三角函数化简

$nx^isin^{p+2}(x)cos^q(x)+mx^isin^p(x)cos^{q+2}(x) = nx^isin^p(x)cos^q(x) + (m-n)x^isin^p(x)cos^{q+2}(x)$

特别当，当m=n时，化简力度最大。



### 自定义类的等价性、相似性判断

Factor：equal方法-继承类相同且base相同；hashcode方法-使用类名拼接base后形成的字符串的hashcode。

Item：include方法-方法用于两个Item对象A和B，在无视系数的情况下，判断一方所含有的因子及其指数是否能包含另一方所含的因子及指数。从集合角度的等价定义，当A和B互相包含，则可知在因子及其指数上两个Item是等价的，因此可进行系数合并。